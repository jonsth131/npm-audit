trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: Npm@1
  displayName: 'Npm install'
  inputs:
    command: 'ci --ignore-scripts'

- task: npm-audit@1
  displayName: 'Npm audit'
  inputs:
    path: '.'
    level: 'low'

- task: CmdLine@2
  displayName: 'Compile typescript'
  inputs:
    script: 'tsc'